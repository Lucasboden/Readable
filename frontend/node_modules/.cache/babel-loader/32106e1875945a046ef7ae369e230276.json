{"ast":null,"code":"import _toConsumableArray from \"/home/gedanken01/Desktop/Readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/gedanken01/Desktop/Readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { LOAD_POSTS, VOTE_ON_POST } from '../actions/Posts';\nexport function postsReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOAD_POSTS:\n      var posts = action.posts;\n      return _objectSpread({}, state, {\n        posts: posts\n      });\n\n    case VOTE_ON_POST:\n      var currentPostUpVote = _toConsumableArray(state.posts);\n\n      var indexUp = currentPostUpVote.findIndex(function (post) {\n        return post.id === action.postId;\n      });\n      currentPostUpVote[indexUp].voteScore = currentPostUpVote[indexUp].voteScore + 1;\n      return {\n        posts: _toConsumableArray(currentPostUpVote)\n      };\n\n    default:\n      return state;\n  }\n}\nexport default postsReducer;","map":{"version":3,"sources":["/home/gedanken01/Desktop/Readable/frontend/src/reducers/postsReducer.js"],"names":["LOAD_POSTS","VOTE_ON_POST","postsReducer","state","action","type","posts","currentPostUpVote","indexUp","findIndex","post","id","postId","voteScore"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,YAArB,QAAyC,kBAAzC;AAEA,OAAO,SAASC,YAAT,GAAsC;AAAA,MAAhBC,KAAgB,uEAAV,EAAU;AAAA,MAAPC,MAAO;;AAC5C,UAAOA,MAAM,CAACC,IAAd;AACC,SAAKL,UAAL;AAAA,UACSM,KADT,GACmBF,MADnB,CACSE,KADT;AAEC,+BACIH,KADJ;AAECG,QAAAA,KAAK,EAALA;AAFD;;AAID,SAAKL,YAAL;AACC,UAAMM,iBAAiB,sBAAOJ,KAAK,CAACG,KAAb,CAAvB;;AACK,UAAME,OAAO,GAAED,iBAAiB,CAACE,SAAlB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,EAAL,KAAYP,MAAM,CAACQ,MAAvB;AAAA,OAAhC,CAAf;AACFL,MAAAA,iBAAiB,CAACC,OAAD,CAAjB,CAA2BK,SAA3B,GAAuCN,iBAAiB,CAACC,OAAD,CAAjB,CAA2BK,SAA3B,GAAuC,CAA9E;AACA,aAAO;AACLP,QAAAA,KAAK,qBAAMC,iBAAN;AADA,OAAP;;AAGJ;AACC,aAAOJ,KAAP;AAfF;AAkBA;AAED,eAAeD,YAAf","sourcesContent":["import { LOAD_POSTS, VOTE_ON_POST } from '../actions/Posts'\n\nexport function postsReducer(state={},action){\n\tswitch(action.type){\n\t\tcase LOAD_POSTS:\n\t\t\tconst { posts } = action\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts\n\t\t\t}\n\t\tcase VOTE_ON_POST:\n\t\t\tconst currentPostUpVote = [...state.posts]\n\t      \tconst indexUp= currentPostUpVote.findIndex(post => post.id === action.postId)\n    \t\tcurrentPostUpVote[indexUp].voteScore = currentPostUpVote[indexUp].voteScore + 1\n\t\t    return {\n\t\t      posts: [...currentPostUpVote]\n\t\t    }\n\t\tdefault:\n\t\t\treturn state\n\n\t}\n}\n\nexport default postsReducer"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _toConsumableArray from \"/home/gedanken01/Desktop/Readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/gedanken01/Desktop/Readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { LOAD_POSTS, VOTE_ON_POST, DELETE_POST, EDIT_POST } from '../actions/Posts';\nexport function postsReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOAD_POSTS:\n      var posts = action.posts;\n      return _objectSpread({}, state, {\n        posts: posts\n      });\n\n    case VOTE_ON_POST:\n      console.log(state);\n\n      var currentPostVote = _toConsumableArray(state.posts);\n\n      var index = currentPostVote.findIndex(function (post) {\n        return post.id === action.post.id;\n      });\n      currentPostVote[index].voteScore = action.post.voteScore;\n      return {\n        posts: _toConsumableArray(currentPostVote)\n      };\n\n    case DELETE_POST:\n      var currentPostDelete = _toConsumableArray(state.posts);\n\n      var indexDelete = currentPostDelete.findIndex(function (post) {\n        return post.id === action;\n      });\n      currentPostDelete.splice(indexDelete, 1);\n      return {\n        posts: _toConsumableArray(currentPostDelete)\n      };\n\n    case EDIT_POST:\n      var currentPostEdit = _toConsumableArray(state.posts);\n\n      var indexEdit = currentPostEdit.findIndex(function (post) {\n        return post.id === action.id;\n      });\n      currentPostEdit[indexEdit] = action;\n      return {\n        posts: _toConsumableArray(currentPostEdit)\n      };\n\n    default:\n      return state;\n  }\n}\nexport default postsReducer;","map":{"version":3,"sources":["/home/gedanken01/Desktop/Readable/frontend/src/reducers/postsReducer.js"],"names":["LOAD_POSTS","VOTE_ON_POST","DELETE_POST","EDIT_POST","postsReducer","state","action","type","posts","console","log","currentPostVote","index","findIndex","post","id","voteScore","currentPostDelete","indexDelete","splice","currentPostEdit","indexEdit"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,YAArB,EAAmCC,WAAnC,EAAgDC,SAAhD,QAAiE,kBAAjE;AAEA,OAAO,SAASC,YAAT,GAAsC;AAAA,MAAhBC,KAAgB,uEAAV,EAAU;AAAA,MAAPC,MAAO;;AAC5C,UAAOA,MAAM,CAACC,IAAd;AACC,SAAKP,UAAL;AAAA,UACSQ,KADT,GACmBF,MADnB,CACSE,KADT;AAEC,+BACIH,KADJ;AAECG,QAAAA,KAAK,EAALA;AAFD;;AAID,SAAKP,YAAL;AACCQ,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;;AACA,UAAMM,eAAe,sBAAON,KAAK,CAACG,KAAb,CAArB;;AACK,UAAMI,KAAK,GAAED,eAAe,CAACE,SAAhB,CAA0B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,EAAL,KAAYT,MAAM,CAACQ,IAAP,CAAYC,EAA5B;AAAA,OAA9B,CAAb;AACFJ,MAAAA,eAAe,CAACC,KAAD,CAAf,CAAuBI,SAAvB,GAAmCV,MAAM,CAACQ,IAAP,CAAYE,SAA/C;AACA,aAAO;AACLR,QAAAA,KAAK,qBAAMG,eAAN;AADA,OAAP;;AAGJ,SAAKT,WAAL;AACE,UAAIe,iBAAiB,sBAAOZ,KAAK,CAACG,KAAb,CAArB;;AACI,UAAMU,WAAW,GAAGD,iBAAiB,CAACJ,SAAlB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,EAAL,KAAYT,MAAhB;AAAA,OAAhC,CAApB;AACAW,MAAAA,iBAAiB,CAACE,MAAlB,CAAyBD,WAAzB,EAAqC,CAArC;AACA,aAAO;AACPV,QAAAA,KAAK,qBAAMS,iBAAN;AADE,OAAP;;AAGH,SAAKd,SAAL;AACF,UAAIiB,eAAe,sBAAOf,KAAK,CAACG,KAAb,CAAnB;;AACK,UAAMa,SAAS,GAAED,eAAe,CAACP,SAAhB,CAA0B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,EAAL,KAAYT,MAAM,CAACS,EAAvB;AAAA,OAA9B,CAAjB;AACFK,MAAAA,eAAe,CAACC,SAAD,CAAf,GAA6Bf,MAA7B;AACA,aAAO;AACLE,QAAAA,KAAK,qBAAMY,eAAN;AADA,OAAP;;AAGJ;AACC,aAAOf,KAAP;AA9BF;AAiCA;AAED,eAAeD,YAAf","sourcesContent":["import { LOAD_POSTS, VOTE_ON_POST, DELETE_POST, EDIT_POST } from '../actions/Posts'\n\nexport function postsReducer(state={},action){\n\tswitch(action.type){\n\t\tcase LOAD_POSTS:\n\t\t\tconst { posts } = action\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts\n\t\t\t}\n\t\tcase VOTE_ON_POST:\n\t\t\tconsole.log(state)\n\t\t\tconst currentPostVote = [...state.posts]\n\t      \tconst index= currentPostVote.findIndex(post => post.id === action.post.id)\n    \t\tcurrentPostVote[index].voteScore = action.post.voteScore\n\t\t    return {\n\t\t      posts: [...currentPostVote]\n\t\t    }\n\t\tcase DELETE_POST:\n\t\t \tvar currentPostDelete = [...state.posts]\n\t      \tconst indexDelete = currentPostDelete.findIndex(post => post.id === action)\n\t      \tcurrentPostDelete.splice(indexDelete,1)\n\t      \treturn {\n\t\t      posts: [...currentPostDelete]\n\t\t    }\n\t   \tcase EDIT_POST:\n\t\t\tvar currentPostEdit = [...state.posts]\n\t      \tconst indexEdit= currentPostEdit.findIndex(post => post.id === action.id)\n    \t\tcurrentPostEdit[indexEdit] = action\n\t\t    return {\n\t\t      posts: [...currentPostEdit]\n\t\t    }\n\t\tdefault:\n\t\t\treturn state\n\n\t}\n}\n\nexport default postsReducer"]},"metadata":{},"sourceType":"module"}